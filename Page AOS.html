<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Fiche AOS Interactive</title>
  <style>
    body {
      margin: 0;
      background: #333;
      display: flex;
      justify-content: center;
      padding: 20px;
    }

    .container {
      position: relative;
      width: 100%;
      aspect-ratio: 1200/1920;
      background-image: url('Slann.png');
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center top;
    }

    .toggle {
      font-family: 'Roboto', sans-serif;
      position: absolute;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      font-size: 1.5em;
      padding: 0.2vw;
      border: 2px solid #999;
      border-radius: 0.4vw;
      user-select: none;
      background-color: #D7D0C3;
      width: 17%;
      height: 4.18%;
      transition: background-color 0.1s ease, opacity 0.2s ease;
      opacity: 0.5;
    }

    .notes-container {
      position: absolute;
      width: 35.5%;
      height: 9%;
      top: 32%;
      left: 60.5%;
    }

    .notes-container textarea {
      width: 100%;
      height: 100%;
      resize: none;
      font-size: 1.8em;
      text-transform: uppercase;
      padding: 0.3em;
      border-radius: 0.4em;
      border: 1px solid #999;
      background-color: #ede9d6;
      font-family: 'Roboto', sans-serif;
    }

    #reset-btn {
      position: absolute;
      top: 1.55%;
      right: 3.3%;
      padding: 0.5em 1em;
      font-size: 1em;
      border: none;
      border-radius: 0.4em;
      background-color: #ccc;
      cursor: pointer;
      font-family: 'Roboto', sans-serif;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Boutons -->
    <div class="toggle" data-type="positive" data-label="HIT" style="top: 21%; left: 2%;">+1 HIT</div>
    <div class="toggle" data-type="negative" data-label="HIT" style="top: 26.5%; left: 2%;">-1 HIT</div>
    <div class="toggle" data-type="positive" data-label="WOUND" style="top: 21%; left: 21.5%;">+1 WOUND</div>
    <div class="toggle" data-type="negative" data-label="WOUND" style="top: 26.5%; left: 21.5%;">-1 WOUND</div>
    <div class="toggle" data-type="positive" data-label="REND" style="top: 21%; left: 41%;">+1 REND</div>
    <div class="toggle" data-type="negative" data-label="REND" style="top: 26.5%; left: 41%;">-1 REND</div>
    <div class="toggle" data-type="positive" data-label="CHARGE" style="top: 21%; left: 60.5%;">+1 CHARGE</div>
    <div class="toggle" data-type="negative" data-label="CHARGE" style="top: 26.5%; left: 60.5%;">-1 CHARGE</div>
    <div class="toggle" data-type="positive" data-label="MOVE" style="top: 21%; left: 80%;">+1 MOVE</div>
    <div class="toggle" data-type="negative" data-label="MOVE" style="top: 26.5%; left: 80%;">-1 MOVE</div>
    <div class="toggle" data-type="positive" data-label="SAVE" style="top: 32%; left: 2%;">+1 SAVE</div>
    <div class="toggle" data-type="negative" data-label="SAVE" style="top: 37.5%; left: 2%;">-1 SAVE</div>
    <div class="toggle" data-type="positive" data-label="WARD" style="top: 32%; left: 21.5%;">+1 WARD</div>
    <div class="toggle" data-type="negative" data-label="WARD" style="top: 37.5%; left: 21.5%;">-1 WARD</div>
    <div class="toggle" data-type="positive" data-label="CAST" style="top: 32%; left: 41%;">+1 CAST</div>
    <div class="toggle" data-type="negative" data-label="CAST" style="top: 37.5%; left: 41%;">-1 CAST</div>

    <!-- Champ de notes -->
    <div class="notes-container">
      <textarea placeholder="..."></textarea>
    </div>

    <!-- Bouton réinitialiser -->
    <button id="reset-btn">Réinitialiser</button>
  </div>

  <script>
    const pastelColors = {
      neutral: "#D7D0C3",
      positive1: "#b6e7c9",
      positive2: "#83d4a6",
      negative1: "#f7c0c0",
      negative2: "#e69797"
    };

    document.querySelectorAll(".toggle").forEach(el => {
      const type = el.dataset.type;
      const label = el.dataset.label;
      el.__state = 0;

      el.addEventListener("click", () => {
        el.__state = (el.__state + 1) % 3;
        const state = el.__state;

        if (state === 0) {
          el.style.backgroundColor = pastelColors.neutral;
          el.textContent = `${type === "positive" ? "+1" : "-1"} ${label}`;
          el.style.opacity = 0.5;
        } else if (state === 1) {
          el.style.backgroundColor = pastelColors[type + "1"];
          el.textContent = `${type === "positive" ? "+1" : "-1"} ${label}`;
          el.style.opacity = 1;
        } else {
          el.style.backgroundColor = pastelColors[type + "2"];
          el.textContent = `${type === "positive" ? "+2" : "-2"} ${label}`;
          el.style.opacity = 1;
        }
      });

      el.style.backgroundColor = pastelColors.neutral;
    });

    // Bouton réinitialisation
    document.getElementById("reset-btn").addEventListener("click", () => {
      document.querySelectorAll(".toggle").forEach(el => {
        const type = el.dataset.type;
        const label = el.dataset.label;
        el.style.backgroundColor = pastelColors.neutral;
        el.textContent = `${type === "positive" ? "+1" : "-1"} ${label}`;
        el.style.opacity = 0.5;
        el.__state = 0;
      });

      const textarea = document.querySelector(".notes-container textarea");
      if (textarea) textarea.value = "";
    });
  </script>
</body>
</html>